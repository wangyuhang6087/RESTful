<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<!-- Bootstrap core CSS -->
    <link href="../dist/css/bootstrap.min.css" rel="stylesheet">
     <link rel="stylesheet" href="../layui/css/layui.css">
</head>
<body>
<div class="col-md-3" style="margin-left: 200px;margin-top: 100px;font-size: 20px">
	<form id="formId" action="#">
	<table class="table table-bordered">
		<tr>
			<td>用户名</td>
			<td>
				<input type="text" name="name" >
			</td>
		</tr>
		<tr>
			<td>密码</td>
			<td>
				<input type="text" name="password" >
			</td>
		</tr>
		<tr>
			<td>生日</td>
			<td>
				 <div class="layui-inline">
     			 	<div class="layui-input-inline">
       				 	<input type="text" name="birthday" class="layui-input" id="test1" placeholder="yyyy-MM-dd">
      				</div>
   				</div>
			</td>
		</tr>
	</table>
	<input onclick="return addFun();" type="submit" value="添加">
	</form>
<script src="../layui/layui.js" type="text/javascript"></script>
<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript">
/*
 * 点击 添加按钮,触发事件
   1.获得表单中的数据
   1.1 校验
   2.发送请求,携带数据
   3.成功后重新回到首页
 */
function addFun(){
	// 获得表单数据 ->表单序列化
	var obj = $("#formId").serialize(); 
	$.ajax({
		url:"/RESTful/user",
		data:obj,
		type:"POST",
		success:function(msg){
			if(msg.code == 200){
				alert("添加成功");
				window.location.href="/RESTful/view/list.html";
			}else{
				alert("添加失败");
			}
		}
	});
	return false;
}

</script>
<script>
//一般直接写在一个js文件中
layui.use('laydate', function(){
  var laydate = layui.laydate;
//常规用法
  laydate.render({
    elem: '#test1'
  });
});
</script> 
</body>
</html>